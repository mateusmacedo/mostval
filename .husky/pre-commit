# Verificar se hÃ¡ changesets pendentes
if [ -d ".changeset" ] && [ "$(ls -A .changeset/*.md 2>/dev/null)" ]; then
  echo "âœ… Changesets encontrados - pronto para release"
else
  echo "âš ï¸  Nenhum changeset encontrado. Considere criar um com 'pnpm changeset:add'"
fi

# Verificar se Ã© o primeiro commit (sem histÃ³rico Git)
if [ -z "$(git rev-list --count HEAD 2>/dev/null)" ]; then
  echo "ğŸš€ Primeiro commit detectado - executando linting em todos os arquivos..."
  # Executar linting em todos os arquivos para o primeiro commit
  biome lint . --reporter=github
  echo "âœ… Linting concluÃ­do para primeiro commit"
else
  # Executar linting com Nx (aproveitando cache e paralelizaÃ§Ã£o)
  echo "ğŸ” Executando linting com Biome via Nx..."
  nx affected --target=biome:lint

  # Executar linting Go (se projetos Go forem afetados)
  echo "ğŸ” Executando linting Go via Nx..."
  nx affected --target=go:lint
fi